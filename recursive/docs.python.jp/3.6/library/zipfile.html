
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>13.5. zipfile --- ZIP アーカイブの処理 &#8212; Python 3.6.13 ドキュメント</title>
    <link rel="stylesheet" href="../_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Python 3.6.13 ドキュメント 内を検索"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="このドキュメントについて" href="../about.html" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="copyright" title="著作権" href="../copyright.html" />
    <link rel="next" title="13.6. tarfile --- tar アーカイブファイルの読み書き" href="tarfile.html" />
    <link rel="prev" title="13.4. lzma --- LZMA アルゴリズムを使用した圧縮" href="lzma.html" />
    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    <link rel="canonical" href="https://docs.python.org/3/library/zipfile.html" />
    
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    
    
    
 

  </head><body>
  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="tarfile.html" title="13.6. tarfile --- tar アーカイブファイルの読み書き"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="lzma.html" title="13.4. lzma --- LZMA アルゴリズムを使用した圧縮"
             accesskey="P">前へ</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="https://www.python.org/">Python</a> &#187;</li>
        <li>
          <a href="../index.html">3.6.13 Documentation</a> &#187;
        </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 標準ライブラリ</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="archiving.html" accesskey="U"><span class="section-number">13. </span>データ圧縮とアーカイブ</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="クイック検索" type="text" name="q" />
          <input type="submit" value="検索" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-zipfile">
<span id="zipfile-work-with-zip-archives"></span><h1><span class="section-number">13.5. </span><a class="reference internal" href="#module-zipfile" title="zipfile: Read and write ZIP-format archive files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">zipfile</span></code></a> --- ZIP アーカイブの処理<a class="headerlink" href="#module-zipfile" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p><strong>ソースコード:</strong> <a class="reference external" href="https://github.com/python/cpython/tree/3.6/Lib/zipfile.py">Lib/zipfile.py</a></p>
<hr class="docutils" />
<p>ZIP は一般によく知られているアーカイブ (書庫化) および圧縮の標準ファイルフォーマットです。このモジュールでは ZIP 形式のファイルの作成、読み書き、追記、書庫内のファイル一覧の作成を行うためのツールを提供します。より高度な使い方でこのモジュールを利用したいのであれば、 <a class="reference external" href="https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT">PKZIP Application Note</a> に定義されている ZIP ファイルフォーマットの理解が必要になるでしょう。</p>
<p>このモジュールは現在マルチディスク ZIP ファイルを扱うことはできません。ZIP64 拡張を利用する ZIP ファイル (サイズが 4 GiB を超えるような ZIP ファイル) は扱えます。このモジュールは暗号化されたアーカイブの復号をサポートしますが、現在暗号化ファイルを作成することはできません。C 言語ではなく、Python で実装されているため、復号は非常に遅くなっています。</p>
<p>このモジュールは以下の項目を定義しています:</p>
<dl class="exception">
<dt id="zipfile.BadZipFile">
<em class="property">exception </em><code class="sig-prename descclassname">zipfile.</code><code class="sig-name descname">BadZipFile</code><a class="headerlink" href="#zipfile.BadZipFile" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>正常ではない ZIP ファイルに対して送出されるエラーです。</p>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 3.2 で追加.</span></p>
</div>
</dd></dl>

<dl class="exception">
<dt id="zipfile.BadZipfile">
<em class="property">exception </em><code class="sig-prename descclassname">zipfile.</code><code class="sig-name descname">BadZipfile</code><a class="headerlink" href="#zipfile.BadZipfile" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#zipfile.BadZipFile" title="zipfile.BadZipFile"><code class="xref py py-exc docutils literal notranslate"><span class="pre">BadZipFile</span></code></a> の別名です。過去のバージョンの Python との互換性のために用意されています。</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">バージョン 3.2 で非推奨.</span></p>
</div>
</dd></dl>

<dl class="exception">
<dt id="zipfile.LargeZipFile">
<em class="property">exception </em><code class="sig-prename descclassname">zipfile.</code><code class="sig-name descname">LargeZipFile</code><a class="headerlink" href="#zipfile.LargeZipFile" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ZIP ファイルが ZIP64 の機能を必要としているが、その機能が有効化されていない場合に送出されるエラーです。</p>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">zipfile.</code><code class="sig-name descname">ZipFile</code></dt>
<dd><p>ZIP ファイルの読み書きのためのクラスです。コンストラクタの詳細については、<a class="reference internal" href="#zipfile-objects"><span class="std std-ref">ZipFile オブジェクト</span></a> 節を参照してください。</p>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">zipfile.</code><code class="sig-name descname">PyZipFile</code></dt>
<dd><p>Python ライブラリを含む、ZIP アーカイブを作成するためのクラスです。</p>
</dd></dl>

<dl class="class">
<dt id="zipfile.ZipInfo">
<em class="property">class </em><code class="sig-prename descclassname">zipfile.</code><code class="sig-name descname">ZipInfo</code><span class="sig-paren">(</span><em class="sig-param">filename='NoName'</em>, <em class="sig-param">date_time=(1980</em>, <em class="sig-param">1</em>, <em class="sig-param">1</em>, <em class="sig-param">0</em>, <em class="sig-param">0</em>, <em class="sig-param">0)</em><span class="sig-paren">)</span><a class="headerlink" href="#zipfile.ZipInfo" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>アーカイブ内の 1 個のメンバの情報を取得するために使うクラスです。このクラスのインスタンスは <a class="reference internal" href="#zipfile.ZipFile" title="zipfile.ZipFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipFile</span></code></a> オブジェクトの <a class="reference internal" href="#zipfile.ZipFile.getinfo" title="zipfile.ZipFile.getinfo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getinfo()</span></code></a> および <a class="reference internal" href="#zipfile.ZipFile.infolist" title="zipfile.ZipFile.infolist"><code class="xref py py-meth docutils literal notranslate"><span class="pre">infolist()</span></code></a> メソッドによって返されます。ほとんどの <a class="reference internal" href="#module-zipfile" title="zipfile: Read and write ZIP-format archive files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">zipfile</span></code></a> モジュールの利用者はこのクラスのインスタンスを作成する必要はなく、このモジュールによって作成されたものを使用できます。<em>filename</em> はアーカイブメンバのフルネームでなければならず、<em>date_time</em> はファイルが最後に変更された日時を表す 6 個のフィールドのタプルでなければなりません; フィールドは <a class="reference internal" href="#zipinfo-objects"><span class="std std-ref">ZipInfo オブジェクト</span></a> 節で説明されています。</p>
</dd></dl>

<dl class="function">
<dt id="zipfile.is_zipfile">
<code class="sig-prename descclassname">zipfile.</code><code class="sig-name descname">is_zipfile</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="headerlink" href="#zipfile.is_zipfile" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>filename</em> が正しいマジックナンバをもつ ZIP ファイルの時に <code class="docutils literal notranslate"><span class="pre">True</span></code> を返し、そうでない場合 <code class="docutils literal notranslate"><span class="pre">False</span></code> を返します。<em>filename</em> にはファイルやファイルライクオブジェクトを渡すこともできます。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.1 で変更: </span>ファイルおよびファイルライクオブジェクトをサポートしました。</p>
</div>
</dd></dl>

<dl class="data">
<dt id="zipfile.ZIP_STORED">
<code class="sig-prename descclassname">zipfile.</code><code class="sig-name descname">ZIP_STORED</code><a class="headerlink" href="#zipfile.ZIP_STORED" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>アーカイブメンバを圧縮しない (複数ファイルを一つにまとめるだけ) ことを表す数値定数です。</p>
</dd></dl>

<dl class="data">
<dt id="zipfile.ZIP_DEFLATED">
<code class="sig-prename descclassname">zipfile.</code><code class="sig-name descname">ZIP_DEFLATED</code><a class="headerlink" href="#zipfile.ZIP_DEFLATED" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>通常の ZIP 圧縮方法を表す数値定数です。これには <a class="reference internal" href="zlib.html#module-zlib" title="zlib: Low-level interface to compression and decompression routines compatible with gzip."><code class="xref py py-mod docutils literal notranslate"><span class="pre">zlib</span></code></a> モジュールが必要です。</p>
</dd></dl>

<dl class="data">
<dt id="zipfile.ZIP_BZIP2">
<code class="sig-prename descclassname">zipfile.</code><code class="sig-name descname">ZIP_BZIP2</code><a class="headerlink" href="#zipfile.ZIP_BZIP2" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>BZIP2 圧縮方法を表す数値定数です。これには <a class="reference internal" href="bz2.html#module-bz2" title="bz2: Interfaces for bzip2 compression and decompression."><code class="xref py py-mod docutils literal notranslate"><span class="pre">bz2</span></code></a> モジュールが必要です。</p>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 3.3 で追加.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="zipfile.ZIP_LZMA">
<code class="sig-prename descclassname">zipfile.</code><code class="sig-name descname">ZIP_LZMA</code><a class="headerlink" href="#zipfile.ZIP_LZMA" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>LZMA 圧縮方法を表す数値定数です。これには <a class="reference internal" href="lzma.html#module-lzma" title="lzma: A Python wrapper for the liblzma compression library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">lzma</span></code></a> モジュールが必要です。</p>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 3.3 で追加.</span></p>
</div>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>ZIP ファイルフォーマット仕様は 2001 年より bzip2 圧縮を、2006 年より LZMA 圧縮をサポートしていますが、(過去の Python リリースを含む) 一部のツールはこれら圧縮方式をサポートしていないため、ZIP ファイルの処理を全く受け付けないか、あるいは個々のファイルの抽出に失敗する場合があります。</p>
</div>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">参考</p>
<dl class="simple">
<dt><a class="reference external" href="https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT">PKZIP Application Note</a></dt><dd><p>ZIP ファイルフォーマットおよびアルゴリズムを作成した Phil Katz によるドキュメント。</p>
</dd>
<dt><a class="reference external" href="http://www.info-zip.org/">Info-ZIP Home Page</a></dt><dd><p>Info-ZIP プロジェクトによる ZIP アーカイブプログラムおよびプログラム開発ライブラリに関する情報。</p>
</dd>
</dl>
</div>
<div class="section" id="zipfile-objects">
<span id="id1"></span><h2><span class="section-number">13.5.1. </span>ZipFile オブジェクト<a class="headerlink" href="#zipfile-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="class">
<dt id="zipfile.ZipFile">
<em class="property">class </em><code class="sig-prename descclassname">zipfile.</code><code class="sig-name descname">ZipFile</code><span class="sig-paren">(</span><em class="sig-param">file</em>, <em class="sig-param">mode='r'</em>, <em class="sig-param">compression=ZIP_STORED</em>, <em class="sig-param">allowZip64=True</em><span class="sig-paren">)</span><a class="headerlink" href="#zipfile.ZipFile" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Open a ZIP file, where <em>file</em> can be a path to a file (a string), a
file-like object or a <a class="reference internal" href="../glossary.html#term-path-like-object"><span class="xref std std-term">path-like object</span></a>.
The <em>mode</em> parameter should be <code class="docutils literal notranslate"><span class="pre">'r'</span></code> to read an existing
file, <code class="docutils literal notranslate"><span class="pre">'w'</span></code> to truncate and write a new file, <code class="docutils literal notranslate"><span class="pre">'a'</span></code> to append to an
existing file, or <code class="docutils literal notranslate"><span class="pre">'x'</span></code> to exclusively create and write a new file.
If <em>mode</em> is <code class="docutils literal notranslate"><span class="pre">'x'</span></code> and <em>file</em> refers to an existing file,
a <a class="reference internal" href="exceptions.html#FileExistsError" title="FileExistsError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">FileExistsError</span></code></a> will be raised.
If <em>mode</em> is <code class="docutils literal notranslate"><span class="pre">'a'</span></code> and <em>file</em> refers to an existing ZIP
file, then additional files are added to it.  If <em>file</em> does not refer to a
ZIP file, then a new ZIP archive is appended to the file.  This is meant for
adding a ZIP archive to another file (such as <code class="file docutils literal notranslate"><span class="pre">python.exe</span></code>).  If
<em>mode</em> is <code class="docutils literal notranslate"><span class="pre">'a'</span></code> and the file does not exist at all, it is created.
If <em>mode</em> is <code class="docutils literal notranslate"><span class="pre">'r'</span></code> or <code class="docutils literal notranslate"><span class="pre">'a'</span></code>, the file should be seekable.
<em>compression</em> is the ZIP compression method to use when writing the archive,
and should be <a class="reference internal" href="#zipfile.ZIP_STORED" title="zipfile.ZIP_STORED"><code class="xref py py-const docutils literal notranslate"><span class="pre">ZIP_STORED</span></code></a>, <a class="reference internal" href="#zipfile.ZIP_DEFLATED" title="zipfile.ZIP_DEFLATED"><code class="xref py py-const docutils literal notranslate"><span class="pre">ZIP_DEFLATED</span></code></a>,
<a class="reference internal" href="#zipfile.ZIP_BZIP2" title="zipfile.ZIP_BZIP2"><code class="xref py py-const docutils literal notranslate"><span class="pre">ZIP_BZIP2</span></code></a> or <a class="reference internal" href="#zipfile.ZIP_LZMA" title="zipfile.ZIP_LZMA"><code class="xref py py-const docutils literal notranslate"><span class="pre">ZIP_LZMA</span></code></a>; unrecognized
values will cause <a class="reference internal" href="exceptions.html#NotImplementedError" title="NotImplementedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NotImplementedError</span></code></a> to be raised.  If <a class="reference internal" href="#zipfile.ZIP_DEFLATED" title="zipfile.ZIP_DEFLATED"><code class="xref py py-const docutils literal notranslate"><span class="pre">ZIP_DEFLATED</span></code></a>,
<a class="reference internal" href="#zipfile.ZIP_BZIP2" title="zipfile.ZIP_BZIP2"><code class="xref py py-const docutils literal notranslate"><span class="pre">ZIP_BZIP2</span></code></a> or <a class="reference internal" href="#zipfile.ZIP_LZMA" title="zipfile.ZIP_LZMA"><code class="xref py py-const docutils literal notranslate"><span class="pre">ZIP_LZMA</span></code></a> is specified but the corresponding module
(<a class="reference internal" href="zlib.html#module-zlib" title="zlib: Low-level interface to compression and decompression routines compatible with gzip."><code class="xref py py-mod docutils literal notranslate"><span class="pre">zlib</span></code></a>, <a class="reference internal" href="bz2.html#module-bz2" title="bz2: Interfaces for bzip2 compression and decompression."><code class="xref py py-mod docutils literal notranslate"><span class="pre">bz2</span></code></a> or <a class="reference internal" href="lzma.html#module-lzma" title="lzma: A Python wrapper for the liblzma compression library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">lzma</span></code></a>) is not available, <a class="reference internal" href="exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a>
is raised. The default is <a class="reference internal" href="#zipfile.ZIP_STORED" title="zipfile.ZIP_STORED"><code class="xref py py-const docutils literal notranslate"><span class="pre">ZIP_STORED</span></code></a>.  If <em>allowZip64</em> is
<code class="docutils literal notranslate"><span class="pre">True</span></code> (the default) zipfile will create ZIP files that use the ZIP64
extensions when the zipfile is larger than 4 GiB. If it is  false <a class="reference internal" href="#module-zipfile" title="zipfile: Read and write ZIP-format archive files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">zipfile</span></code></a>
will raise an exception when the ZIP file would require ZIP64 extensions.</p>
<p>ファイルがモード <code class="docutils literal notranslate"><span class="pre">'w'</span></code>、 <code class="docutils literal notranslate"><span class="pre">'x'</span></code> または <code class="docutils literal notranslate"><span class="pre">'a'</span></code> で作成され、その後そのアーカイブにファイルを追加することなく <a class="reference internal" href="#zipfile.ZipFile.close" title="zipfile.ZipFile.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">クローズ</span></code></a> された場合、空のアーカイブのための適切な ZIP 構造がファイルに書き込まれます。</p>
<p>ZipFile はコンテキストマネージャにもなっているので、<a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a> 文をサポートしています。次の例では、<em>myzip</em> は <a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a> 文のブロックが終了したときに、(たとえ例外が発生したとしても) クローズされます:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">ZipFile</span><span class="p">(</span><span class="s1">&#39;spam.zip&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">myzip</span><span class="p">:</span>
    <span class="n">myzip</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;eggs.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 3.2 で追加: </span><a class="reference internal" href="#zipfile.ZipFile" title="zipfile.ZipFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipFile</span></code></a> をコンテキストマネージャとして使用できるようになりました。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.3 で変更: </span><a class="reference internal" href="bz2.html#module-bz2" title="bz2: Interfaces for bzip2 compression and decompression."><code class="xref py py-mod docutils literal notranslate"><span class="pre">bzip2</span></code></a> および <a class="reference internal" href="lzma.html#module-lzma" title="lzma: A Python wrapper for the liblzma compression library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">lzma</span></code></a> 圧縮をサポートしました。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.4 で変更: </span>ZIP64 拡張がデフォルトで有効になりました。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.5 で変更: </span>seek 出来ないストリームのサポートが追加されました。<code class="docutils literal notranslate"><span class="pre">'x'</span></code> モードのサポートが追加されました。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.6 で変更: </span>Previously, a plain <a class="reference internal" href="exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a> was raised for unrecognized
compression values.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.6.2 で変更: </span>The <em>file</em> parameter accepts a <a class="reference internal" href="../glossary.html#term-path-like-object"><span class="xref std std-term">path-like object</span></a>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="zipfile.ZipFile.close">
<code class="sig-prename descclassname">ZipFile.</code><code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zipfile.ZipFile.close" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>アーカイブファイルをクローズします。<a class="reference internal" href="#zipfile.ZipFile.close" title="zipfile.ZipFile.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code></a> はプログラムを終了する前に必ず呼び出さなければなりません。さもないとアーカイブ上の重要なレコードが書き込まれません。</p>
</dd></dl>

<dl class="method">
<dt id="zipfile.ZipFile.getinfo">
<code class="sig-prename descclassname">ZipFile.</code><code class="sig-name descname">getinfo</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#zipfile.ZipFile.getinfo" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>アーカイブメンバ <em>name</em> に関する情報を持つ <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipInfo</span></code></a> オブジェクトを返します。アーカイブに含まれないファイル名に対して <a class="reference internal" href="#zipfile.ZipFile.getinfo" title="zipfile.ZipFile.getinfo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getinfo()</span></code></a> を呼び出すと、<a class="reference internal" href="exceptions.html#KeyError" title="KeyError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyError</span></code></a> が送出されます。</p>
</dd></dl>

<dl class="method">
<dt id="zipfile.ZipFile.infolist">
<code class="sig-prename descclassname">ZipFile.</code><code class="sig-name descname">infolist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zipfile.ZipFile.infolist" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>アーカイブに含まれる各メンバの <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipInfo</span></code></a> オブジェクトからなるリストを返します。既存のアーカイブファイルを開いている場合、リストの順番は実際の ZIP ファイル中のメンバの順番と同じになります。</p>
</dd></dl>

<dl class="method">
<dt id="zipfile.ZipFile.namelist">
<code class="sig-prename descclassname">ZipFile.</code><code class="sig-name descname">namelist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zipfile.ZipFile.namelist" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>アーカイブメンバの名前のリストを返します。</p>
</dd></dl>

<dl class="method">
<dt id="zipfile.ZipFile.open">
<code class="sig-prename descclassname">ZipFile.</code><code class="sig-name descname">open</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">mode='r'</em>, <em class="sig-param">pwd=None</em>, <em class="sig-param">*</em>, <em class="sig-param">force_zip64=False</em><span class="sig-paren">)</span><a class="headerlink" href="#zipfile.ZipFile.open" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Access a member of the archive as a binary file-like object.  <em>name</em>
can be either the name of a file within the archive or a <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipInfo</span></code></a>
object.  The <em>mode</em> parameter, if included, must be <code class="docutils literal notranslate"><span class="pre">'r'</span></code> (the default)
or <code class="docutils literal notranslate"><span class="pre">'w'</span></code>.  <em>pwd</em> is the password used to decrypt encrypted ZIP files.</p>
<p><a class="reference internal" href="#zipfile.ZipFile.open" title="zipfile.ZipFile.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open()</span></code></a> はコンテクストマネージャでもあるので <a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a> 文をサポートしています:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">ZipFile</span><span class="p">(</span><span class="s1">&#39;spam.zip&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">myzip</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">myzip</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;eggs.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">myfile</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">myfile</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
<p>With <em>mode</em> <code class="docutils literal notranslate"><span class="pre">'r'</span></code> the file-like object
(<code class="docutils literal notranslate"><span class="pre">ZipExtFile</span></code>) is read-only and provides the following methods:
<a class="reference internal" href="io.html#io.BufferedIOBase.read" title="io.BufferedIOBase.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a>, <a class="reference internal" href="io.html#io.IOBase.readline" title="io.IOBase.readline"><code class="xref py py-meth docutils literal notranslate"><span class="pre">readline()</span></code></a>,
<a class="reference internal" href="io.html#io.IOBase.readlines" title="io.IOBase.readlines"><code class="xref py py-meth docutils literal notranslate"><span class="pre">readlines()</span></code></a>, <a class="reference internal" href="../reference/datamodel.html#object.__iter__" title="object.__iter__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__iter__()</span></code></a>,
<a class="reference internal" href="stdtypes.html#iterator.__next__" title="iterator.__next__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__next__()</span></code></a>.  These objects can operate independently of
the ZipFile.</p>
<p>With <code class="docutils literal notranslate"><span class="pre">mode='w'</span></code>, a writable file handle is returned, which supports the
<a class="reference internal" href="io.html#io.BufferedIOBase.write" title="io.BufferedIOBase.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method.  While a writable file handle is open,
attempting to read or write other files in the ZIP file will raise a
<a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>.</p>
<p>When writing a file, if the file size is not known in advance but may exceed
2 GiB, pass <code class="docutils literal notranslate"><span class="pre">force_zip64=True</span></code> to ensure that the header format is
capable of supporting large files.  If the file size is known in advance,
construct a <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipInfo</span></code></a> object with <a class="reference internal" href="#zipfile.ZipInfo.file_size" title="zipfile.ZipInfo.file_size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">file_size</span></code></a> set, and
use that as the <em>name</em> parameter.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p><a class="reference internal" href="#zipfile.ZipFile.open" title="zipfile.ZipFile.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open()</span></code></a>、<a class="reference internal" href="#zipfile.ZipFile.read" title="zipfile.ZipFile.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a>、および <a class="reference internal" href="#zipfile.ZipFile.extract" title="zipfile.ZipFile.extract"><code class="xref py py-meth docutils literal notranslate"><span class="pre">extract()</span></code></a> メソッドには、ファイル名または <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipInfo</span></code></a> オブジェクトを指定できます。これは重複する名前のメンバを含む ZIP ファイルを読み込むときにそのメリットを享受できるでしょう。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.6 で変更: </span>Removed support of <code class="docutils literal notranslate"><span class="pre">mode='U'</span></code>.  Use <a class="reference internal" href="io.html#io.TextIOWrapper" title="io.TextIOWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.TextIOWrapper</span></code></a> for reading
compressed text files in <a class="reference internal" href="../glossary.html#term-universal-newlines"><span class="xref std std-term">universal newlines</span></a> mode.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.6 で変更: </span><a class="reference internal" href="functions.html#open" title="open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open()</span></code></a> can now be used to write files into the archive with the
<code class="docutils literal notranslate"><span class="pre">mode='w'</span></code> option.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.6 で変更: </span>Calling <a class="reference internal" href="#zipfile.ZipFile.open" title="zipfile.ZipFile.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open()</span></code></a> on a closed ZipFile will raise a <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>.
Previously, a <a class="reference internal" href="exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a> was raised.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="zipfile.ZipFile.extract">
<code class="sig-prename descclassname">ZipFile.</code><code class="sig-name descname">extract</code><span class="sig-paren">(</span><em class="sig-param">member</em>, <em class="sig-param">path=None</em>, <em class="sig-param">pwd=None</em><span class="sig-paren">)</span><a class="headerlink" href="#zipfile.ZipFile.extract" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>メンバをアーカイブから現在の作業ディレクトリに展開します。<em>member</em> は展開するファイルのフルネームまたは <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipInfo</span></code></a> オブジェクトでなければなりません。ファイル情報は可能な限り正確に展開されます。<em>path</em> は展開先のディレクトリを指定します。<em>member</em> はファイル名または <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipInfo</span></code></a> オブジェクトです。<em>pwd</em> は暗号化ファイルに使われるパスワードです。</p>
<p>作成された (ディレクトリか新ファイルの) 正規化されたパスを返します。</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>メンバのファイル名が絶対パスなら、ドライブ/UNC sharepoint および先頭の (バック) スラッシュは取り除かれます。例えば、Unix で <code class="docutils literal notranslate"><span class="pre">///foo/bar</span></code> は <code class="docutils literal notranslate"><span class="pre">foo/bar</span></code> となり、Window で <code class="docutils literal notranslate"><span class="pre">C:\foo\bar</span></code> は <code class="docutils literal notranslate"><span class="pre">foo\bar</span></code> となります。また、メンバのファイル名に含まれる全ての <code class="docutils literal notranslate"><span class="pre">&quot;..&quot;</span></code> は取り除かれます。例えば、<code class="docutils literal notranslate"><span class="pre">../../foo../../ba..r</span></code> は <code class="docutils literal notranslate"><span class="pre">foo../ba..r</span></code> となります。Windows では、不正な文字 (<code class="docutils literal notranslate"><span class="pre">:</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">|</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">?</span></code>, および <code class="docutils literal notranslate"><span class="pre">*</span></code>) はアンダースコア (<code class="docutils literal notranslate"><span class="pre">_</span></code>) で置き換えられます。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.6 で変更: </span>Calling <a class="reference internal" href="#zipfile.ZipFile.extract" title="zipfile.ZipFile.extract"><code class="xref py py-meth docutils literal notranslate"><span class="pre">extract()</span></code></a> on a closed ZipFile will raise a
<a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>.  Previously, a <a class="reference internal" href="exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a> was raised.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.6.2 で変更: </span><em>path</em> パラメタが <a class="reference internal" href="../glossary.html#term-path-like-object"><span class="xref std std-term">path-like object</span></a> を受け付けるようになりました。</p>
</div>
</dd></dl>

<dl class="method">
<dt id="zipfile.ZipFile.extractall">
<code class="sig-prename descclassname">ZipFile.</code><code class="sig-name descname">extractall</code><span class="sig-paren">(</span><em class="sig-param">path=None</em>, <em class="sig-param">members=None</em>, <em class="sig-param">pwd=None</em><span class="sig-paren">)</span><a class="headerlink" href="#zipfile.ZipFile.extractall" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>すべてのメンバをアーカイブから現在の作業ディレクトリに展開します。<em>path</em> は展開先のディレクトリを指定します。<em>members</em> は、オプションで、<a class="reference internal" href="#zipfile.ZipFile.namelist" title="zipfile.ZipFile.namelist"><code class="xref py py-meth docutils literal notranslate"><span class="pre">namelist()</span></code></a> で返されるリストの部分集合でなければなりません。<em>pwd</em> は、暗号化ファイルに使われるパスワードです。</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>信頼できないソースからきた Zip ファイルを、事前に中身をチェックせずに展開してはいけません。ファイルを <em>path</em> の外側に作成することができるからです。例えば、 <code class="docutils literal notranslate"><span class="pre">&quot;/&quot;</span></code>  で始まる絶対パスを持ったメンバーや、 2 つのドット <code class="docutils literal notranslate"><span class="pre">&quot;..&quot;</span></code> を持つファイル名などの場合です。このモジュールはそれを避けようとします。 <a class="reference internal" href="#zipfile.ZipFile.extract" title="zipfile.ZipFile.extract"><code class="xref py py-meth docutils literal notranslate"><span class="pre">extract()</span></code></a> の注釈を参照してください。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.6 で変更: </span>Calling <a class="reference internal" href="#zipfile.ZipFile.extractall" title="zipfile.ZipFile.extractall"><code class="xref py py-meth docutils literal notranslate"><span class="pre">extractall()</span></code></a> on a closed ZipFile will raise a
<a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>.  Previously, a <a class="reference internal" href="exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a> was raised.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.6.2 で変更: </span><em>path</em> パラメタが <a class="reference internal" href="../glossary.html#term-path-like-object"><span class="xref std std-term">path-like object</span></a> を受け付けるようになりました。</p>
</div>
</dd></dl>

<dl class="method">
<dt id="zipfile.ZipFile.printdir">
<code class="sig-prename descclassname">ZipFile.</code><code class="sig-name descname">printdir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zipfile.ZipFile.printdir" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>アーカイブの内容の一覧を <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code> に出力します。</p>
</dd></dl>

<dl class="method">
<dt id="zipfile.ZipFile.setpassword">
<code class="sig-prename descclassname">ZipFile.</code><code class="sig-name descname">setpassword</code><span class="sig-paren">(</span><em class="sig-param">pwd</em><span class="sig-paren">)</span><a class="headerlink" href="#zipfile.ZipFile.setpassword" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>pwd</em> を展開する圧縮ファイルのデフォルトパスワードとして指定します。</p>
</dd></dl>

<dl class="method">
<dt id="zipfile.ZipFile.read">
<code class="sig-prename descclassname">ZipFile.</code><code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">pwd=None</em><span class="sig-paren">)</span><a class="headerlink" href="#zipfile.ZipFile.read" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Return the bytes of the file <em>name</em> in the archive.  <em>name</em> is the name of the
file in the archive, or a <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipInfo</span></code></a> object.  The archive must be open for
read or append. <em>pwd</em> is the password used for encrypted  files and, if specified,
it will override the default password set with <a class="reference internal" href="#zipfile.ZipFile.setpassword" title="zipfile.ZipFile.setpassword"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setpassword()</span></code></a>.  Calling
<a class="reference internal" href="#zipfile.ZipFile.read" title="zipfile.ZipFile.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> on a ZipFile that uses a compression method other than
<a class="reference internal" href="#zipfile.ZIP_STORED" title="zipfile.ZIP_STORED"><code class="xref py py-const docutils literal notranslate"><span class="pre">ZIP_STORED</span></code></a>, <a class="reference internal" href="#zipfile.ZIP_DEFLATED" title="zipfile.ZIP_DEFLATED"><code class="xref py py-const docutils literal notranslate"><span class="pre">ZIP_DEFLATED</span></code></a>, <a class="reference internal" href="#zipfile.ZIP_BZIP2" title="zipfile.ZIP_BZIP2"><code class="xref py py-const docutils literal notranslate"><span class="pre">ZIP_BZIP2</span></code></a> or
<a class="reference internal" href="#zipfile.ZIP_LZMA" title="zipfile.ZIP_LZMA"><code class="xref py py-const docutils literal notranslate"><span class="pre">ZIP_LZMA</span></code></a> will raise a <a class="reference internal" href="exceptions.html#NotImplementedError" title="NotImplementedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NotImplementedError</span></code></a>. An error will also
be raised if the corresponding compression module is not available.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.6 で変更: </span>Calling <a class="reference internal" href="#zipfile.ZipFile.read" title="zipfile.ZipFile.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> on a closed ZipFile will raise a <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>.
Previously, a <a class="reference internal" href="exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a> was raised.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="zipfile.ZipFile.testzip">
<code class="sig-prename descclassname">ZipFile.</code><code class="sig-name descname">testzip</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zipfile.ZipFile.testzip" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Read all the files in the archive and check their CRC's and file headers.
Return the name of the first bad file, or else return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.6 で変更: </span>Calling <a class="reference internal" href="#zipfile.ZipFile.testzip" title="zipfile.ZipFile.testzip"><code class="xref py py-meth docutils literal notranslate"><span class="pre">testzip()</span></code></a> on a closed ZipFile will raise a
<a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>.  Previously, a <a class="reference internal" href="exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a> was raised.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="zipfile.ZipFile.write">
<code class="sig-prename descclassname">ZipFile.</code><code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">arcname=None</em>, <em class="sig-param">compress_type=None</em><span class="sig-paren">)</span><a class="headerlink" href="#zipfile.ZipFile.write" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Write the file named <em>filename</em> to the archive, giving it the archive name
<em>arcname</em> (by default, this will be the same as <em>filename</em>, but without a drive
letter and with leading path separators removed).  If given, <em>compress_type</em>
overrides the value given for the <em>compression</em> parameter to the constructor for
the new entry.
The archive must be open with mode <code class="docutils literal notranslate"><span class="pre">'w'</span></code>, <code class="docutils literal notranslate"><span class="pre">'x'</span></code> or <code class="docutils literal notranslate"><span class="pre">'a'</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>アーカイブ名はアーカイブルートに対する相対パスでなければなりません。言い換えると、アーカイブ名はパスセパレータで始まってはいけません。</p>
</div>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>もし、<code class="docutils literal notranslate"><span class="pre">arcname</span></code> (<code class="docutils literal notranslate"><span class="pre">arcname</span></code> が与えられない場合は、<code class="docutils literal notranslate"><span class="pre">filename</span></code>) が null byte を含むなら、アーカイブ中のファイルのファイル名は、null byte までで切り詰められます。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.6 で変更: </span>Calling <a class="reference internal" href="#zipfile.ZipFile.write" title="zipfile.ZipFile.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> on a ZipFile created with mode <code class="docutils literal notranslate"><span class="pre">'r'</span></code> or
a closed ZipFile will raise a <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>.  Previously,
a <a class="reference internal" href="exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a> was raised.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="zipfile.ZipFile.writestr">
<code class="sig-prename descclassname">ZipFile.</code><code class="sig-name descname">writestr</code><span class="sig-paren">(</span><em class="sig-param">zinfo_or_arcname</em>, <em class="sig-param">data</em><span class="optional">[</span>, <em class="sig-param">compress_type</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#zipfile.ZipFile.writestr" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Write a file into the archive.  The contents is <em>data</em>, which may be either
a <a class="reference internal" href="stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or a <a class="reference internal" href="stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> instance; if it is a <a class="reference internal" href="stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>,
it is encoded as UTF-8 first.  <em>zinfo_or_arcname</em> is either the file
name it will be given in the archive, or a <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipInfo</span></code></a> instance.  If it's
an instance, at least the filename, date, and time must be given.  If it's a
name, the date and time is set to the current date and time.
The archive must be opened with mode <code class="docutils literal notranslate"><span class="pre">'w'</span></code>, <code class="docutils literal notranslate"><span class="pre">'x'</span></code> or <code class="docutils literal notranslate"><span class="pre">'a'</span></code>.</p>
<p><em>compress_type</em> が指定された場合、その値はコンストラクタに与えられた <em>compression</em> の値か、<em>zinfo_or_arcname</em> が <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipInfo</span></code></a> のインスタンスだったときはその値をオーバーライドします。</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p><a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipInfo</span></code></a> インスタンスを引数 <em>zinfo_or_arcname</em> として与えた場合、与えられた <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipInfo</span></code></a> インスタンスのメンバーである <em>compress_type</em> で指定された圧縮方法が使われます。デフォルトでは、<a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipInfo</span></code></a> コンストラクターが、このメンバーを <a class="reference internal" href="#zipfile.ZIP_STORED" title="zipfile.ZIP_STORED"><code class="xref py py-const docutils literal notranslate"><span class="pre">ZIP_STORED</span></code></a> に設定します。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.2 で変更: </span>引数 <em>compress_type</em> を追加しました。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.6 で変更: </span>Calling <a class="reference internal" href="#zipfile.ZipFile.writestr" title="zipfile.ZipFile.writestr"><code class="xref py py-meth docutils literal notranslate"><span class="pre">writestr()</span></code></a> on a ZipFile created with mode <code class="docutils literal notranslate"><span class="pre">'r'</span></code> or
a closed ZipFile will raise a <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>.  Previously,
a <a class="reference internal" href="exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a> was raised.</p>
</div>
</dd></dl>

<p>以下のデータ属性も利用することができます:</p>
<dl class="attribute">
<dt id="zipfile.ZipFile.filename">
<code class="sig-prename descclassname">ZipFile.</code><code class="sig-name descname">filename</code><a class="headerlink" href="#zipfile.ZipFile.filename" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ZIP ファイルの名前です。</p>
</dd></dl>

<dl class="attribute">
<dt id="zipfile.ZipFile.debug">
<code class="sig-prename descclassname">ZipFile.</code><code class="sig-name descname">debug</code><a class="headerlink" href="#zipfile.ZipFile.debug" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>使用するデバッグ出力レベルです。この属性は <code class="docutils literal notranslate"><span class="pre">0</span></code> (デフォルト、何も出力しない) から <code class="docutils literal notranslate"><span class="pre">3</span></code> (最も多く出力する) までの値に設定することができます。デバッグ情報は <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code> に出力されます。</p>
</dd></dl>

<dl class="attribute">
<dt id="zipfile.ZipFile.comment">
<code class="sig-prename descclassname">ZipFile.</code><code class="sig-name descname">comment</code><a class="headerlink" href="#zipfile.ZipFile.comment" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ZIP ファイル <a class="reference internal" href="stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> オブジェクトとして関連付けられたコメントです。モード <code class="docutils literal notranslate"><span class="pre">'w'</span></code> 、 <code class="docutils literal notranslate"><span class="pre">'x'</span></code> または <code class="docutils literal notranslate"><span class="pre">'a'</span></code> で作成された <a class="reference internal" href="#zipfile.ZipFile" title="zipfile.ZipFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipFile</span></code></a> インスタンスへコメントを割り当てる場合、文字列長は 65535 バイトまでにしてください。その長さを超えたコメントは切り捨てられます。</p>
</dd></dl>

</div>
<div class="section" id="pyzipfile-objects">
<span id="id2"></span><h2><span class="section-number">13.5.2. </span>PyZipFile オブジェクト<a class="headerlink" href="#pyzipfile-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference internal" href="#zipfile.PyZipFile" title="zipfile.PyZipFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PyZipFile</span></code></a> コンストラクタは <a class="reference internal" href="#zipfile.ZipFile" title="zipfile.ZipFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipFile</span></code></a> コンストラクタと同じパラメータに加え、<em>optimize</em> パラメータをとります。</p>
<dl class="class">
<dt id="zipfile.PyZipFile">
<em class="property">class </em><code class="sig-prename descclassname">zipfile.</code><code class="sig-name descname">PyZipFile</code><span class="sig-paren">(</span><em class="sig-param">file</em>, <em class="sig-param">mode='r'</em>, <em class="sig-param">compression=ZIP_STORED</em>, <em class="sig-param">allowZip64=True</em>, <em class="sig-param">optimize=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#zipfile.PyZipFile" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">バージョン 3.2 で追加: </span>パラメータに <em>optimize</em> を追加しました。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.4 で変更: </span>ZIP64 拡張がデフォルトで有効になりました。</p>
</div>
<p>インスタンスは <a class="reference internal" href="#zipfile.ZipFile" title="zipfile.ZipFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipFile</span></code></a> オブジェクトのメソッドの他に、追加のメソッドを 1 個持ちます:</p>
<dl class="method">
<dt id="zipfile.PyZipFile.writepy">
<code class="sig-name descname">writepy</code><span class="sig-paren">(</span><em class="sig-param">pathname</em>, <em class="sig-param">basename=''</em>, <em class="sig-param">filterfunc=None</em><span class="sig-paren">)</span><a class="headerlink" href="#zipfile.PyZipFile.writepy" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><code class="file docutils literal notranslate"><span class="pre">*.py</span></code> ファイルを探し、一致するファイルをアーカイブに追加します。</p>
<p><a class="reference internal" href="#zipfile.PyZipFile" title="zipfile.PyZipFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PyZipFile</span></code></a> に <em>optimize</em> 引数が与えられない場合、あるいは <code class="docutils literal notranslate"><span class="pre">-1</span></code> が指定された場合、対応するファイルは <code class="file docutils literal notranslate"><span class="pre">*.pyc</span></code> ファイルで、必要に応じてコンパイルします。</p>
<p><a class="reference internal" href="#zipfile.PyZipFile" title="zipfile.PyZipFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PyZipFile</span></code></a> の <em>optimize</em> パラメータが <code class="docutils literal notranslate"><span class="pre">0</span></code>、<code class="docutils literal notranslate"><span class="pre">1</span></code>、あるいは <code class="docutils literal notranslate"><span class="pre">2</span></code> の場合、それを最適化レベル (<a class="reference internal" href="functions.html#compile" title="compile"><code class="xref py py-func docutils literal notranslate"><span class="pre">compile()</span></code></a> 参照) とするファイルのみが、必要に応じてコンパイルされアーカイブに追加されます。</p>
<p>If <em>pathname</em> is a file, the filename must end with <code class="file docutils literal notranslate"><span class="pre">.py</span></code>, and
just the (corresponding <code class="file docutils literal notranslate"><span class="pre">*.pyc</span></code>) file is added at the top level
(no path information).  If <em>pathname</em> is a file that does not end with
<code class="file docutils literal notranslate"><span class="pre">.py</span></code>, a <a class="reference internal" href="exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a> will be raised.  If it is a directory,
and the directory is not a package directory, then all the files
<code class="file docutils literal notranslate"><span class="pre">*.pyc</span></code> are added at the top level.  If the directory is a
package directory, then all <code class="file docutils literal notranslate"><span class="pre">*.pyc</span></code> are added under the package
name as a file path, and if any subdirectories are package directories,
all of these are added recursively.</p>
<p><em>basename</em> は内部が使用するためだけのものです。</p>
<p><em>filterfunc</em> を与える場合、単一の文字列引数を取る関数を渡してください。これには(個々のフルパスを含む)それぞれのパスがアーカイブに加えられる前に渡されます。 <em>filterfunc</em> が偽を返せば、そのパスはアーカイブに追加されず、ディレクトリだった場合はその中身が無視されます。例として、私たちのテストファイルが全て <code class="docutils literal notranslate"><span class="pre">test</span></code> ディレクトリの中にあるか、 <code class="docutils literal notranslate"><span class="pre">test</span></code> 文字列で始まるとしましょう。 <em>filterfunc</em> を使ってそれらを除外出来ます:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">zf</span> <span class="o">=</span> <span class="n">PyZipFile</span><span class="p">(</span><span class="s1">&#39;myprog.zip&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">notests</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">fn</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="p">(</span><span class="ow">not</span> <span class="p">(</span><span class="n">fn</span> <span class="o">==</span> <span class="s1">&#39;test&#39;</span> <span class="ow">or</span> <span class="n">fn</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;test_&#39;</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zf</span><span class="o">.</span><span class="n">writepy</span><span class="p">(</span><span class="s1">&#39;myprog&#39;</span><span class="p">,</span> <span class="n">filterfunc</span><span class="o">=</span><span class="n">notests</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="#zipfile.PyZipFile.writepy" title="zipfile.PyZipFile.writepy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">writepy()</span></code></a> メソッドは以下のようなファイル名でアーカイブを作成します:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">string</span><span class="o">.</span><span class="n">pyc</span>                   <span class="c1"># Top level name</span>
<span class="n">test</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">pyc</span>            <span class="c1"># Package directory</span>
<span class="n">test</span><span class="o">/</span><span class="n">testall</span><span class="o">.</span><span class="n">pyc</span>             <span class="c1"># Module test.testall</span>
<span class="n">test</span><span class="o">/</span><span class="n">bogus</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">pyc</span>      <span class="c1"># Subpackage directory</span>
<span class="n">test</span><span class="o">/</span><span class="n">bogus</span><span class="o">/</span><span class="n">myfile</span><span class="o">.</span><span class="n">pyc</span>        <span class="c1"># Submodule test.bogus.myfile</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 3.4 で追加: </span><em>filterfunc</em> パラメータ。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.6.2 で変更: </span>The <em>pathname</em> parameter accepts a <a class="reference internal" href="../glossary.html#term-path-like-object"><span class="xref std std-term">path-like object</span></a>.</p>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="zipinfo-objects">
<span id="id3"></span><h2><span class="section-number">13.5.3. </span>ZipInfo オブジェクト<a class="headerlink" href="#zipinfo-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipInfo</span></code></a> クラスのインスタンスは、<a class="reference internal" href="#zipfile.ZipFile" title="zipfile.ZipFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipFile</span></code></a> オブジェクトの <a class="reference internal" href="#zipfile.ZipFile.getinfo" title="zipfile.ZipFile.getinfo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getinfo()</span></code></a> および <a class="reference internal" href="#zipfile.ZipFile.infolist" title="zipfile.ZipFile.infolist"><code class="xref py py-meth docutils literal notranslate"><span class="pre">infolist()</span></code></a> メソッドによって返されます。各オブジェクトは ZIP アーカイブ内の 1 個のメンバに関する情報を格納します。</p>
<p>There is one classmethod to make a <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipInfo</span></code></a> instance for a filesystem
file:</p>
<dl class="method">
<dt id="zipfile.ZipInfo.from_file">
<em class="property">classmethod </em><code class="sig-prename descclassname">ZipInfo.</code><code class="sig-name descname">from_file</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">arcname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#zipfile.ZipInfo.from_file" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Construct a <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZipInfo</span></code></a> instance for a file on the filesystem, in
preparation for adding it to a zip file.</p>
<p><em>filename</em> should be the path to a file or directory on the filesystem.</p>
<p>If <em>arcname</em> is specified, it is used as the name within the archive.
If <em>arcname</em> is not specified, the name will be the same as <em>filename</em>, but
with any drive letter and leading path separators removed.</p>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 3.6 で追加.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.6.2 で変更: </span>The <em>filename</em> parameter accepts a <a class="reference internal" href="../glossary.html#term-path-like-object"><span class="xref std std-term">path-like object</span></a>.</p>
</div>
</dd></dl>

<p>Instances have the following methods and attributes:</p>
<dl class="method">
<dt id="zipfile.ZipInfo.is_dir">
<code class="sig-prename descclassname">ZipInfo.</code><code class="sig-name descname">is_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zipfile.ZipInfo.is_dir" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if this archive member is a directory.</p>
<p>This uses the entry's name: directories should always end with <code class="docutils literal notranslate"><span class="pre">/</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">バージョン 3.6 で追加.</span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zipfile.ZipInfo.filename">
<code class="sig-prename descclassname">ZipInfo.</code><code class="sig-name descname">filename</code><a class="headerlink" href="#zipfile.ZipInfo.filename" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>アーカイブ中のファイル名。</p>
</dd></dl>

<dl class="attribute">
<dt id="zipfile.ZipInfo.date_time">
<code class="sig-prename descclassname">ZipInfo.</code><code class="sig-name descname">date_time</code><a class="headerlink" href="#zipfile.ZipInfo.date_time" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>アーカイブメンバの最終更新日時。6 つの値からなるタプルになります:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 79%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>インデックス</p></th>
<th class="head"><p>値</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>西暦年 (&gt;= 1980)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>月 (1 から始まる)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">2</span></code></p></td>
<td><p>日 (1 から始まる)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">3</span></code></p></td>
<td><p>時 (0 から始まる)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">4</span></code></p></td>
<td><p>分 (0 から始まる)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">5</span></code></p></td>
<td><p>秒 (0 から始まる)</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>ZIP ファイルフォーマットは 1980 年より前のタイムスタンプをサポートしていません。</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zipfile.ZipInfo.compress_type">
<code class="sig-prename descclassname">ZipInfo.</code><code class="sig-name descname">compress_type</code><a class="headerlink" href="#zipfile.ZipInfo.compress_type" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>アーカイブメンバの圧縮形式。</p>
</dd></dl>

<dl class="attribute">
<dt id="zipfile.ZipInfo.comment">
<code class="sig-prename descclassname">ZipInfo.</code><code class="sig-name descname">comment</code><a class="headerlink" href="#zipfile.ZipInfo.comment" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Comment for the individual archive member as a <a class="reference internal" href="stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> object.</p>
</dd></dl>

<dl class="attribute">
<dt id="zipfile.ZipInfo.extra">
<code class="sig-prename descclassname">ZipInfo.</code><code class="sig-name descname">extra</code><a class="headerlink" href="#zipfile.ZipInfo.extra" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Expansion field data.  The <a class="reference external" href="https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT">PKZIP Application Note</a> contains
some comments on the internal structure of the data contained in this
<a class="reference internal" href="stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> object.</p>
</dd></dl>

<dl class="attribute">
<dt id="zipfile.ZipInfo.create_system">
<code class="sig-prename descclassname">ZipInfo.</code><code class="sig-name descname">create_system</code><a class="headerlink" href="#zipfile.ZipInfo.create_system" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ZIP アーカイブを作成したシステムを記述する文字列。</p>
</dd></dl>

<dl class="attribute">
<dt id="zipfile.ZipInfo.create_version">
<code class="sig-prename descclassname">ZipInfo.</code><code class="sig-name descname">create_version</code><a class="headerlink" href="#zipfile.ZipInfo.create_version" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>このアーカイブを作成した PKZIP のバージョン。</p>
</dd></dl>

<dl class="attribute">
<dt id="zipfile.ZipInfo.extract_version">
<code class="sig-prename descclassname">ZipInfo.</code><code class="sig-name descname">extract_version</code><a class="headerlink" href="#zipfile.ZipInfo.extract_version" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>このアーカイブを展開する際に必要な PKZIP のバージョン。</p>
</dd></dl>

<dl class="attribute">
<dt id="zipfile.ZipInfo.reserved">
<code class="sig-prename descclassname">ZipInfo.</code><code class="sig-name descname">reserved</code><a class="headerlink" href="#zipfile.ZipInfo.reserved" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>予約領域。ゼロでなくてはなりません。</p>
</dd></dl>

<dl class="attribute">
<dt id="zipfile.ZipInfo.flag_bits">
<code class="sig-prename descclassname">ZipInfo.</code><code class="sig-name descname">flag_bits</code><a class="headerlink" href="#zipfile.ZipInfo.flag_bits" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ZIP フラグビット列。</p>
</dd></dl>

<dl class="attribute">
<dt id="zipfile.ZipInfo.volume">
<code class="sig-prename descclassname">ZipInfo.</code><code class="sig-name descname">volume</code><a class="headerlink" href="#zipfile.ZipInfo.volume" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ファイルヘッダのボリューム番号。</p>
</dd></dl>

<dl class="attribute">
<dt id="zipfile.ZipInfo.internal_attr">
<code class="sig-prename descclassname">ZipInfo.</code><code class="sig-name descname">internal_attr</code><a class="headerlink" href="#zipfile.ZipInfo.internal_attr" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>内部属性。</p>
</dd></dl>

<dl class="attribute">
<dt id="zipfile.ZipInfo.external_attr">
<code class="sig-prename descclassname">ZipInfo.</code><code class="sig-name descname">external_attr</code><a class="headerlink" href="#zipfile.ZipInfo.external_attr" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>外部ファイル属性。</p>
</dd></dl>

<dl class="attribute">
<dt id="zipfile.ZipInfo.header_offset">
<code class="sig-prename descclassname">ZipInfo.</code><code class="sig-name descname">header_offset</code><a class="headerlink" href="#zipfile.ZipInfo.header_offset" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ファイルヘッダへのバイトオフセット。</p>
</dd></dl>

<dl class="attribute">
<dt id="zipfile.ZipInfo.CRC">
<code class="sig-prename descclassname">ZipInfo.</code><code class="sig-name descname">CRC</code><a class="headerlink" href="#zipfile.ZipInfo.CRC" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>圧縮前のファイルの CRC-32 チェックサム。</p>
</dd></dl>

<dl class="attribute">
<dt id="zipfile.ZipInfo.compress_size">
<code class="sig-prename descclassname">ZipInfo.</code><code class="sig-name descname">compress_size</code><a class="headerlink" href="#zipfile.ZipInfo.compress_size" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>圧縮後のデータのサイズ。</p>
</dd></dl>

<dl class="attribute">
<dt id="zipfile.ZipInfo.file_size">
<code class="sig-prename descclassname">ZipInfo.</code><code class="sig-name descname">file_size</code><a class="headerlink" href="#zipfile.ZipInfo.file_size" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>圧縮前のファイルのサイズ。</p>
</dd></dl>

</div>
<div class="section" id="command-line-interface">
<span id="zipfile-commandline"></span><h2><span class="section-number">13.5.4. </span>コマンドラインインターフェイス<a class="headerlink" href="#command-line-interface" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference internal" href="#module-zipfile" title="zipfile: Read and write ZIP-format archive files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">zipfile</span></code></a> モジュールは、 ZIP アーカイブを操作するための簡単なコマンドラインインターフェースを提供しています。</p>
<p>ZIP アーカイブを新規に作成したい場合、<a class="reference internal" href="#cmdoption-zipfile-c"><code class="xref std std-option docutils literal notranslate"><span class="pre">-c</span></code></a> オプションの後にまとめたいファイルを列挙してください:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> python -m zipfile -c monty.zip spam.txt eggs.txt
</pre></div>
</div>
<p>ディレクトリを渡すこともできます:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> python -m zipfile -c monty.zip life-of-brian_1979/
</pre></div>
</div>
<p>ZIP アーカイブを特定のディレクトリに展開したい場合、<a class="reference internal" href="#cmdoption-zipfile-e"><code class="xref std std-option docutils literal notranslate"><span class="pre">-e</span></code></a> オプションを使用してください:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> python -m zipfile -e monty.zip target-dir/
</pre></div>
</div>
<p>ZIP アーカイブ内のファイル一覧を表示するには <a class="reference internal" href="#cmdoption-zipfile-l"><code class="xref std std-option docutils literal notranslate"><span class="pre">-l</span></code></a> を使用してください:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> python -m zipfile -l monty.zip
</pre></div>
</div>
<div class="section" id="command-line-options">
<h3><span class="section-number">13.5.4.1. </span>コマンドラインオプション<a class="headerlink" href="#command-line-options" title="このヘッドラインへのパーマリンク">¶</a></h3>
<dl class="cmdoption">
<dt id="cmdoption-zipfile-l">
<code class="sig-name descname">-l</code><code class="sig-prename descclassname"> &lt;zipfile&gt;</code><a class="headerlink" href="#cmdoption-zipfile-l" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>zipfile 内のファイル一覧を表示します。</p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-zipfile-c">
<code class="sig-name descname">-c</code><code class="sig-prename descclassname"> &lt;zipfile&gt; &lt;source1&gt; ... &lt;sourceN&gt;</code><a class="headerlink" href="#cmdoption-zipfile-c" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ソースファイルから zipfile を作成します。</p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-zipfile-e">
<code class="sig-name descname">-e</code><code class="sig-prename descclassname"> &lt;zipfile&gt; &lt;output_dir&gt;</code><a class="headerlink" href="#cmdoption-zipfile-e" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>zipfile を対象となるディレクトリに展開します。</p>
</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption-zipfile-t">
<code class="sig-name descname">-t</code><code class="sig-prename descclassname"> &lt;zipfile&gt;</code><a class="headerlink" href="#cmdoption-zipfile-t" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>zipfile が有効かどうか調べます。</p>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">目次</a></h3>
  <ul>
<li><a class="reference internal" href="#">13.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">zipfile</span></code> --- ZIP アーカイブの処理</a><ul>
<li><a class="reference internal" href="#zipfile-objects">13.5.1. ZipFile オブジェクト</a></li>
<li><a class="reference internal" href="#pyzipfile-objects">13.5.2. PyZipFile オブジェクト</a></li>
<li><a class="reference internal" href="#zipinfo-objects">13.5.3. ZipInfo オブジェクト</a></li>
<li><a class="reference internal" href="#command-line-interface">13.5.4. コマンドラインインターフェイス</a><ul>
<li><a class="reference internal" href="#command-line-options">13.5.4.1. コマンドラインオプション</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>前のトピックへ</h4>
  <p class="topless"><a href="lzma.html"
                        title="前の章へ"><span class="section-number">13.4. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">lzma</span></code> --- LZMA アルゴリズムを使用した圧縮</a></p>
  <h4>次のトピックへ</h4>
  <p class="topless"><a href="tarfile.html"
                        title="次の章へ"><span class="section-number">13.6. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">tarfile</span></code> --- tar アーカイブファイルの読み書き</a></p>
  <div role="note" aria-label="source link">
    <h3>このページ</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">バグ報告</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.6/Doc/library/zipfile.rst"
            rel="nofollow">ソースコードを表示
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="tarfile.html" title="13.6. tarfile --- tar アーカイブファイルの読み書き"
             >次へ</a> |</li>
        <li class="right" >
          <a href="lzma.html" title="13.4. lzma --- LZMA アルゴリズムを使用した圧縮"
             >前へ</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="https://www.python.org/">Python</a> &#187;</li>
        <li>
          <a href="../index.html">3.6.13 Documentation</a> &#187;
        </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 標準ライブラリ</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="archiving.html" ><span class="section-number">13. </span>データ圧縮とアーカイブ</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="クイック検索" type="text" name="q" />
          <input type="submit" value="検索" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">著作権</a> 2001-2021, Python Software Foundation.
    <br />
    Python Software Foundation は非営利団体です。
    <a href="https://www.python.org/psf/donations/">寄付</a>
    <br />
    最終更新: 2月 26, 2021
    <a href="../bugs.html">バグを見つけたら</a>?
    <br />
    このドキュメントは <a href="http://sphinx.pocoo.org/">Sphinx</a> 2.3.1 を使って作成されました。
    </div>

    <script type="text/javascript" src="../_static/switchers.js"></script>
  </body>
</html>